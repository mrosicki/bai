<!DOCTYPE html>
<html>
	<head>
		<title>Student</title>
		<meta charset="UTF-8">
	</head>
	<body>
		<h1>Student</h1>
		<p>Open a console and then click the button</p>
		<input type="button" value="Display student's data">
		<p id="personalData"></p>

		<script>
			var button = document.getElementsByTagName('input')[0];
			button.setAttribute('onClick', 'connect()');
			
			function connect(){
				var method = 'GET';
				var URL = 'http://127.0.0.1:8000/student.json';
				var xhr = new XMLHttpRequest();
                xhr.responseType = 'json';
				xhr.onreadystatechange = function(){display(this);};
				xhr.open(method, URL);
				xhr.send();
			};
		function display(r){
				if(r.status == 200 && r.readyState == 4){
					var e = document.getElementById('personalData');
					e.innerHTML = `Name: ${r.response.name}<br>Surname: ${r.response.surname}`;
				}
			};

		</script>

	</body>
</html>
